{"version":3,"sources":["webpack://[name]/webpack/bootstrap","webpack://[name]/../objio-layout/base/category-filter.js","webpack://[name]/../objio-layout/base/drilldown-table.js","webpack://[name]/../objio-layout/base/layout.js","webpack://[name]/../objio-layout/base/range-filter.js","webpack://[name]/../objio-layout/server/category-filter.js","webpack://[name]/../objio-layout/server/drilldown-table.js","webpack://[name]/../objio-layout/server/index.js","webpack://[name]/../objio-layout/server/layout.js","webpack://[name]/../objio-layout/server/range-filter.js","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/./src/model/base/doc-holder.ts","webpack://[name]/./src/model/base/doc-root.ts","webpack://[name]/./src/model/server/doc-holder.ts","webpack://[name]/./src/model/server/doc-root.ts","webpack://[name]/./src/model/server/register-objects.ts","webpack://[name]/./src/server/doc-server.ts","webpack://[name]/external \"bluebird\"","webpack://[name]/external \"objio\"","webpack://[name]/external \"objio-mysql-database/server\"","webpack://[name]/external \"objio-object/base/file-object\"","webpack://[name]/external \"objio-object/base/object-base\"","webpack://[name]/external \"objio-object/server\"","webpack://[name]/external \"objio-sqlite-table/server\"","webpack://[name]/external \"objio/server\"","webpack://[name]/external \"process\""],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,gDAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB,0CAA0C,UAAU,iBAAiB,aAAa,iBAAiB,YAAY,iBAAiB,gBAAgB,iBAAiB,mBAAmB,iBAAiB,aAAa,iBAAiB,EAAE,GAAG;AAC5S;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;ACrGa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,gDAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA,wCAAwC,SAAS,aAAa;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB,yCAAyC,YAAY,iBAAiB,eAAe,eAAe,iBAAiB,iBAAiB,SAAS,eAAe,EAAE,GAAG;AACvO;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;AC7GA,+CAAa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,oBAAO;AAC7B,oBAAoB,mBAAO,CAAC,oEAA+B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,8CAA8C;AAC9C,eAAe,iBAAiB;AAChC,cAAc,iBAAiB;AAC/B,eAAe;AACf,KAAK,EAAE;AACP;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB,yCAAyC,UAAU,eAAe,YAAY,iBAAiB,EAAE,GAAG;AACnK;AACA,CAAC;AACD;AACA;AACA;AACA,uBAAuB;AACvB,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,wCAAwC,EAAE;AACnG;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,kC;;;;;;;;;;;;;ACrLa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,gDAAU;AACjC;AACA;AACA;AAC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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar CategoryFilterBase = /** @class */ (function (_super) {\r\n    __extends(CategoryFilterBase, _super);\r\n    function CategoryFilterBase() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.sortType = 'value';\r\n        _this.sortDir = 'desc';\r\n        return _this;\r\n    }\r\n    CategoryFilterBase.prototype.setColumn = function (name) {\r\n        if (name == this.column)\r\n            return false;\r\n        this.column = name;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n        return true;\r\n    };\r\n    CategoryFilterBase.prototype.getColumn = function () {\r\n        return this.column;\r\n    };\r\n    CategoryFilterBase.prototype.setSortType = function (type) {\r\n        if (type == this.sortType)\r\n            return false;\r\n        this.sortType = type;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n        return true;\r\n    };\r\n    CategoryFilterBase.prototype.getSortType = function () {\r\n        return this.sortType;\r\n    };\r\n    CategoryFilterBase.prototype.setSortDir = function (dir) {\r\n        if (dir == this.sortDir)\r\n            return false;\r\n        this.sortDir = dir;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n        return true;\r\n    };\r\n    CategoryFilterBase.prototype.setParentTable = function (parent) {\r\n        if (parent == this.obj)\r\n            parent = null;\r\n        if (this.parentTable == parent)\r\n            return;\r\n        this.parentTable = parent;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n    };\r\n    CategoryFilterBase.prototype.setParentIdColumn = function (column) {\r\n        if (this.parentIdColumn == column)\r\n            return;\r\n        this.parentIdColumn = column;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n    };\r\n    CategoryFilterBase.prototype.setIdColumn = function (column) {\r\n        if (this.idColumn == column)\r\n            return;\r\n        this.idColumn = column;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n    };\r\n    CategoryFilterBase.prototype.getSortDir = function () {\r\n        return this.sortDir;\r\n    };\r\n    CategoryFilterBase.prototype.getDataSource = function () {\r\n        return this.parentTable || this.obj;\r\n    };\r\n    CategoryFilterBase.prototype.onUpdateCondition = function (cond) {\r\n    };\r\n    CategoryFilterBase.TYPE_ID = 'CategoryFilter2';\r\n    CategoryFilterBase.SERIALIZE = function () { return (__assign({}, layout_1.ObjectHolderBase.SERIALIZE(), { column: { type: 'string' }, sortType: { type: 'string' }, sortDir: { type: 'string' }, parentTable: { type: 'object' }, parentIdColumn: { type: 'string' }, idColumn: { type: 'string' } })); };\r\n    return CategoryFilterBase;\r\n}(layout_1.ConditionHolder));\r\nexports.CategoryFilterBase = CategoryFilterBase;\r\n//# sourceMappingURL=category-filter.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\n// base to client and server object\r\nvar DrillDownTableBase = /** @class */ (function (_super) {\r\n    __extends(DrillDownTableBase, _super);\r\n    function DrillDownTableBase() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.colsToShow = Array();\r\n        _this.sort = {};\r\n        return _this;\r\n    }\r\n    DrillDownTableBase.prototype.setSort = function (args) {\r\n        var save = args.save, sort = __rest(args, [\"save\"]);\r\n        if (sort.column == this.sort.column && sort.dir == this.sort.dir)\r\n            return;\r\n        this.sort = __assign({}, sort);\r\n        this.holder.delayedNotify();\r\n        (save == null || save) && this.holder.save();\r\n    };\r\n    DrillDownTableBase.prototype.getSort = function () {\r\n        return this.sort;\r\n    };\r\n    DrillDownTableBase.prototype.addColumnToShow = function (args) {\r\n        if (this.isColumnShown(args.column) == args.show)\r\n            return;\r\n        if (args.show)\r\n            this.colsToShow.push(args.column);\r\n        else\r\n            this.colsToShow.splice(this.colsToShow.indexOf(args.column), 1);\r\n        this.holder.delayedNotify();\r\n        (args.save == null || args.save) && this.holder.save();\r\n    };\r\n    DrillDownTableBase.prototype.setShowOneColumn = function (args) {\r\n        if (this.colsToShow.length == 1 && this.colsToShow[0] == args.column)\r\n            return;\r\n        this.colsToShow = [];\r\n        this.addColumnToShow(__assign({ show: true }, args));\r\n    };\r\n    DrillDownTableBase.prototype.toggleColumn = function (args) {\r\n        var show = !this.isColumnShown(args.column);\r\n        this.addColumnToShow(__assign({}, args, { show: show }));\r\n    };\r\n    DrillDownTableBase.prototype.isColumnShown = function (column) {\r\n        return this.colsToShow.indexOf(column) != -1;\r\n    };\r\n    DrillDownTableBase.prototype.getColumnsToShow = function () {\r\n        return this.colsToShow;\r\n    };\r\n    DrillDownTableBase.prototype.getIdColumn = function () {\r\n        return this.idColumn;\r\n    };\r\n    DrillDownTableBase.prototype.setIdColumn = function (args) {\r\n        if (args.column == this.idColumn)\r\n            return;\r\n        this.idColumn = args.column;\r\n        this.holder.delayedNotify();\r\n        args.save && this.holder.save();\r\n    };\r\n    DrillDownTableBase.prototype.getSearchColumn = function () {\r\n        return this.searchColumn;\r\n    };\r\n    DrillDownTableBase.prototype.setSearchColumn = function (args) {\r\n        if (this.searchColumn == args.column)\r\n            return;\r\n        this.searchColumn = args.column;\r\n        this.holder.delayedNotify();\r\n        args.save && this.holder.save();\r\n    };\r\n    DrillDownTableBase.prototype.onUpdateCondition = function (cond) {\r\n    };\r\n    DrillDownTableBase.TYPE_ID = 'DrillDownTable2';\r\n    DrillDownTableBase.SERIALIZE = function () { return (__assign({}, layout_1.ConditionHolder.SERIALIZE(), { idColumn: { type: 'string' }, colsToShow: { type: 'json' }, searchColumn: { type: 'string' }, sort: { type: 'json' } })); };\r\n    return DrillDownTableBase;\r\n}(layout_1.ConditionHolder));\r\nexports.DrillDownTableBase = DrillDownTableBase;\r\n//# sourceMappingURL=drilldown-table.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar objio_1 = require(\"objio\");\r\nvar object_base_1 = require(\"objio-object/base/object-base\");\r\nvar ObjectHolderBase = /** @class */ (function (_super) {\r\n    __extends(ObjectHolderBase, _super);\r\n    function ObjectHolderBase(args) {\r\n        var _this = _super.call(this) || this;\r\n        _this.tasks = new Array();\r\n        if (args) {\r\n            _this.obj = args.obj;\r\n            _this.view = args.view;\r\n        }\r\n        return _this;\r\n    }\r\n    ObjectHolderBase.prototype.setOwner = function (owner) {\r\n        this.owner = owner;\r\n    };\r\n    ObjectHolderBase.prototype.getObject = function () {\r\n        return this.obj;\r\n    };\r\n    ObjectHolderBase.prototype.getView = function () {\r\n        return this.view;\r\n    };\r\n    ObjectHolderBase.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    ObjectHolderBase.prototype.setName = function (name) {\r\n        if (this.name == name)\r\n            return;\r\n        this.name = name;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n    };\r\n    ObjectHolderBase.prototype.getTasksInProgress = function () {\r\n        return this.tasks.length;\r\n    };\r\n    ObjectHolderBase.prototype.getProps = function () {\r\n        return null;\r\n    };\r\n    ObjectHolderBase.prototype.addTask = function (task) {\r\n        if (this.tasks.indexOf(task) == -1)\r\n            this.tasks.push(task);\r\n    };\r\n    ObjectHolderBase.prototype.removeTask = function (task) {\r\n        this.tasks.splice(this.tasks.indexOf(task), 1);\r\n        this.holder.delayedNotify();\r\n    };\r\n    ObjectHolderBase.prototype.watchTask = function (task) {\r\n        var _this = this;\r\n        this.addTask(task);\r\n        return (task.then(function (res) {\r\n            _this.removeTask(task);\r\n            return res;\r\n        }).catch(function (err) {\r\n            _this.removeTask(task);\r\n            return Promise.reject(err);\r\n        }));\r\n    };\r\n    ObjectHolderBase.TYPE_ID = 'LayoutObjectHolder';\r\n    ObjectHolderBase.SERIALIZE = function () { return ({\r\n        name: { type: 'string' },\r\n        obj: { type: 'object' },\r\n        view: { type: 'string' }\r\n    }); };\r\n    return ObjectHolderBase;\r\n}(objio_1.OBJIOItem));\r\nexports.ObjectHolderBase = ObjectHolderBase;\r\nvar DocLayoutBase = /** @class */ (function (_super) {\r\n    __extends(DocLayoutBase, _super);\r\n    function DocLayoutBase() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.layout = { type: 'row', items: [] };\r\n        _this.holders = new objio_1.OBJIOArray();\r\n        _this.condHandler = new ConditionHandler(_this);\r\n        return _this;\r\n    }\r\n    DocLayoutBase.prototype.getHolders = function () {\r\n        return this.holders;\r\n    };\r\n    DocLayoutBase.prototype.getCondHandler = function () {\r\n        return this.condHandler;\r\n    };\r\n    DocLayoutBase.TYPE_ID = 'DocLayout2';\r\n    DocLayoutBase.SERIALIZE = function () { return (__assign({}, object_base_1.ObjectBase.SERIALIZE(), { layout: { type: 'json' }, holders: { type: 'object' } })); };\r\n    return DocLayoutBase;\r\n}(object_base_1.ObjectBase));\r\nexports.DocLayoutBase = DocLayoutBase;\r\nvar ConditionHandler = /** @class */ (function () {\r\n    function ConditionHandler(layout) {\r\n        this.self = {}; // self conditions\r\n        this.combined = {}; // combined conditions\r\n        this.layout = layout;\r\n    }\r\n    ConditionHandler.prototype.updateCombinedCondition = function (tgt) {\r\n        var _this = this;\r\n        var tgtId = tgt.holder.getID();\r\n        if (this.self[tgtId])\r\n            return;\r\n        var combined = Array();\r\n        var holders = this.layout.getHolders().getArray();\r\n        var tableId = tgt.getObject().holder.getID();\r\n        Object.keys(this.self).forEach(function (selfId) {\r\n            if (selfId == tgt.holder.getID())\r\n                return;\r\n            var holder = holders.find(function (holder) { return holder.holder.getID() == selfId; });\r\n            if (holder.getDataSource().holder.getID() != tableId)\r\n                return;\r\n            if (_this.self[selfId])\r\n                combined.push(_this.self[selfId]);\r\n        });\r\n        var newCond;\r\n        if (combined.length == 0) {\r\n            newCond = null;\r\n        }\r\n        else if (combined.length == 1) {\r\n            newCond = combined[0];\r\n        }\r\n        else if (combined.length > 1) {\r\n            newCond = { op: 'and', values: combined };\r\n        }\r\n        if (newCond == this.combined[tgtId])\r\n            return;\r\n        if (newCond && this.combined[tgtId] && JSON.stringify(newCond) == JSON.stringify(this.combined[tgtId]))\r\n            return;\r\n        tgt.onUpdateCondition(this.combined[tgtId] = newCond);\r\n    };\r\n    ConditionHandler.prototype.setSelfCondition = function (holder, cond) {\r\n        var _this = this;\r\n        this.self[holder.holder.getID()] = cond;\r\n        var holders = this.layout.getHolders().getArray();\r\n        holders.forEach(function (obj) {\r\n            if (obj == holder)\r\n                return;\r\n            _this.updateCombinedCondition(obj);\r\n        });\r\n    };\r\n    ConditionHandler.prototype.getSelfCondition = function (holder) {\r\n        return this.self[holder.holder.getID()];\r\n    };\r\n    ConditionHandler.prototype.getCombinedCondition = function (holder) {\r\n        return this.combined[holder.holder.getID()];\r\n    };\r\n    return ConditionHandler;\r\n}());\r\nexports.ConditionHandler = ConditionHandler;\r\nvar ConditionHolder = /** @class */ (function (_super) {\r\n    __extends(ConditionHolder, _super);\r\n    function ConditionHolder() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ConditionHolder.prototype.getDataSource = function () {\r\n        return this.obj;\r\n    };\r\n    return ConditionHolder;\r\n}(ObjectHolderBase));\r\nexports.ConditionHolder = ConditionHolder;\r\n//# sourceMappingURL=layout.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar RangeFilterBase = /** @class */ (function (_super) {\r\n    __extends(RangeFilterBase, _super);\r\n    function RangeFilterBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    RangeFilterBase.prototype.setColumn = function (column) {\r\n        if (this.column == column)\r\n            return false;\r\n        this.column = column;\r\n        this.holder.delayedNotify();\r\n        this.holder.save();\r\n        return true;\r\n    };\r\n    RangeFilterBase.prototype.onUpdateCondition = function (cond) {\r\n    };\r\n    RangeFilterBase.TYPE_ID = 'RangeFilter2';\r\n    RangeFilterBase.SERIALIZE = function () { return (__assign({}, layout_1.ObjectHolderBase.SERIALIZE(), { column: { type: 'string' } })); };\r\n    return RangeFilterBase;\r\n}(layout_1.ConditionHolder));\r\nexports.RangeFilterBase = RangeFilterBase;\r\n//# sourceMappingURL=range-filter.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar category_filter_1 = require(\"../base/category-filter\");\r\nvar CategoryFilter2 = /** @class */ (function (_super) {\r\n    __extends(CategoryFilter2, _super);\r\n    function CategoryFilter2() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return CategoryFilter2;\r\n}(category_filter_1.CategoryFilterBase));\r\nexports.CategoryFilter2 = CategoryFilter2;\r\n//# sourceMappingURL=category-filter.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar drilldown_table_1 = require(\"../base/drilldown-table\");\r\nvar DrillDownTable2 = /** @class */ (function (_super) {\r\n    __extends(DrillDownTable2, _super);\r\n    function DrillDownTable2() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DrillDownTable2;\r\n}(drilldown_table_1.DrillDownTableBase));\r\nexports.DrillDownTable2 = DrillDownTable2;\r\n//# sourceMappingURL=drilldown-table.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar drilldown_table_1 = require(\"./drilldown-table\");\r\nvar category_filter_1 = require(\"./category-filter\");\r\nvar range_filter_1 = require(\"./range-filter\");\r\nfunction getClasses() {\r\n    return [\r\n        layout_1.DocLayout,\r\n        layout_1.ObjectHolderBase,\r\n        category_filter_1.CategoryFilter2,\r\n        drilldown_table_1.DrillDownTable2,\r\n        range_filter_1.RangeFilter2\r\n    ];\r\n}\r\nexports.getClasses = getClasses;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"../base/layout\");\r\nvar ObjectHolderBase = /** @class */ (function (_super) {\r\n    __extends(ObjectHolderBase, _super);\r\n    function ObjectHolderBase() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ObjectHolderBase;\r\n}(layout_1.ObjectHolderBase));\r\nexports.ObjectHolderBase = ObjectHolderBase;\r\nvar DocLayout = /** @class */ (function (_super) {\r\n    __extends(DocLayout, _super);\r\n    function DocLayout() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DocLayout;\r\n}(layout_1.DocLayoutBase));\r\nexports.DocLayout = DocLayout;\r\n//# sourceMappingURL=layout.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar range_filter_1 = require(\"../base/range-filter\");\r\nvar RangeFilter2 = /** @class */ (function (_super) {\r\n    __extends(RangeFilter2, _super);\r\n    function RangeFilter2() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return RangeFilter2;\r\n}(range_filter_1.RangeFilterBase));\r\nexports.RangeFilter2 = RangeFilter2;\r\n//# sourceMappingURL=range-filter.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { SERIALIZER, OBJIOItem } from 'objio';\r\nimport { ObjectBase, SendFileArgs, ObjProps } from 'objio-object/base/object-base';\r\nimport { FileObjectBase } from 'objio-object/base/file-object';\r\n\r\nexport interface DocHolderArgs {\r\n  doc: ObjectBase;\r\n}\r\n\r\nexport class DocHolderBase extends ObjectBase {\r\n  protected doc: ObjectBase;\r\n  protected name: string;\r\n  protected loadTask: Promise<ObjectBase>;\r\n  protected childNum: number = 0;\r\n  protected objType: string = '';\r\n  protected subscribers = Array<(() => void)>();\r\n\r\n  constructor(args?: DocHolderArgs) {\r\n    super();\r\n\r\n    if (args) {\r\n      this.doc = args.doc;\r\n      this.onObjLoadedOrCreated(this.doc);\r\n      this.name = this.doc.getName();\r\n      this.objType = OBJIOItem.getClass(args.doc).TYPE_ID;\r\n    }\r\n\r\n    this.holder.subscribe(this.notifySubscibers);\r\n  }\r\n\r\n  private notifySubscibers = () => {\r\n    this.subscribers.forEach(s => s());\r\n  }\r\n\r\n  subscribe(cb: () => void) {\r\n    if (this.subscribers.indexOf(cb) == -1)\r\n      this.subscribers.push(cb);\r\n  }\r\n\r\n  unsubscribe(cb: () => void) {\r\n    this.subscribers.splice(this.subscribers.indexOf(cb), 1);\r\n  }\r\n\r\n  getObjType(): string {\r\n    if (!this.get())\r\n      return this.objType;\r\n\r\n    return this.doc.getObjType();\r\n  }\r\n\r\n  isLoaded(): boolean {\r\n    return this.doc instanceof ObjectBase;\r\n  }\r\n\r\n  isLoadInProgress(): boolean {\r\n    return this.loadTask != null;\r\n  }\r\n\r\n  getProgress() {\r\n    if (!this.get())\r\n      return 0;\r\n\r\n    return this.doc.getProgress();\r\n  }\r\n\r\n  getChildNum() {\r\n    return this.childNum;\r\n  }\r\n\r\n  getChildren() {\r\n    if (!this.get())\r\n      return [];\r\n\r\n    return this.doc.getChildren();\r\n  }\r\n\r\n  isStatusInProgess() {\r\n    if (!this.get())\r\n      return false;\r\n\r\n    return this.doc.isStatusInProgess();\r\n  }\r\n\r\n  private onObjLoadedOrCreated = (obj: ObjectBase) => {\r\n    this.loadTask = null;\r\n    this.doc = obj;\r\n    obj.holder.subscribe(this.notifySubscibers);\r\n\r\n    this.doc.holder.addEventHandler({\r\n      onObjChange: () => {\r\n        const folders = this.getChildren();\r\n        if (!folders || !folders.length)\r\n          return;\r\n\r\n        this.childNum = folders[0].objects.length;\r\n        this.objType = OBJIOItem.getClass(this.doc).TYPE_ID;\r\n        this.holder.save();\r\n        this.holder.delayedNotify();\r\n      }\r\n    });\r\n    return this.doc;\r\n  }\r\n\r\n  load(): Promise<ObjectBase> {\r\n    if (this.isLoaded())\r\n      return Promise.resolve(this.doc);\r\n\r\n    if (!this.loadTask) (\r\n      this.loadTask = this.holder.getObject<ObjectBase>(this.doc as any)\r\n      .then(this.onObjLoadedOrCreated)\r\n      .catch(() => {\r\n        this.loadTask = null;\r\n        return null;\r\n      })\r\n    );\r\n\r\n    return this.loadTask;\r\n  }\r\n\r\n  get(): ObjectBase {\r\n    if (!this.isLoaded())\r\n      return null;\r\n\r\n    return this.doc;\r\n  }\r\n\r\n  getID(): string {\r\n    if (!this.isLoaded())\r\n      return this.doc as any;\r\n\r\n    return this.doc.holder.getID();\r\n  }\r\n\r\n  getName(): string {\r\n    if (!this.isLoaded())\r\n      return this.name || '';\r\n\r\n    return this.doc.getName();\r\n  }\r\n\r\n  setName(name: string) {\r\n    if (this.name == name)\r\n      return;\r\n\r\n    this.name = name;\r\n    const doc = this.get();\r\n    if (doc)\r\n      doc.setName(name);\r\n\r\n    this.holder.save();\r\n    this.holder.notify();\r\n  }\r\n\r\n  getAppComponents() {\r\n    if (!this.get())\r\n      return super.getAppComponents();\r\n\r\n    return this.doc.getAppComponents();    \r\n  }\r\n\r\n  getObjPropGroups(props: ObjProps) {\r\n    if (!this.get())\r\n      return super.getObjPropGroups(props);\r\n\r\n    return this.doc.getObjPropGroups(props);\r\n  }\r\n\r\n  getFileDropDest() {\r\n    if (!this.get())\r\n      return Promise.reject('object not loaded yet');\r\n\r\n    return this.doc.getFileDropDest();\r\n  }\r\n\r\n  sendFile(args: SendFileArgs): Promise<any> {\r\n    if (!this.get())\r\n      return Promise.reject('object not loaded yet');\r\n\r\n    return this.doc.sendFile(args);\r\n  }\r\n\r\n  removeContent() {\r\n    if (!this.get())\r\n      return Promise.reject('object not loaded yet');\r\n\r\n    if (this.doc instanceof FileObjectBase)\r\n      this.doc.removeContent();\r\n\r\n    return Promise.resolve();\r\n  }\r\n\r\n  static TYPE_ID = 'DocHolder';\r\n  static SERIALIZE: SERIALIZER = () => ({\r\n    doc:  { type: 'object-deferred' },\r\n    name: { type: 'string' },\r\n    childNum: { type: 'integer' },\r\n    objType: { type: 'string' }\r\n  });\r\n}\r\n","import { OBJIOItem, SERIALIZER, OBJIOArray } from 'objio';\r\nimport { DocHolderBase } from './doc-holder';\r\n\r\nexport class DocRootBase extends OBJIOItem {\r\n  protected objects = new OBJIOArray<DocHolderBase>();\r\n\r\n  getObjects(): Array<DocHolderBase> {\r\n    return this.objects.getArray();\r\n  }\r\n\r\n  static TYPE_ID = 'DocRoot';\r\n  static SERIALIZE: SERIALIZER = () => ({\r\n    objects:   { type: 'object' }\r\n  });\r\n}\r\n","import { DocHolderBase } from '../base/doc-holder';\r\n\r\nexport class DocHolder extends DocHolderBase {\r\n}\r\n","import { DocRootBase } from '../base/doc-root';\r\n\r\nexport class DocRoot extends DocRootBase {\r\n}\r\n","import { OBJIOFactory } from 'objio';\r\nimport { DocRoot } from './doc-root';\r\nimport * as Objects from 'objio-object/server';\r\nimport { DocHolder } from './doc-holder';\r\nimport * as Layout from 'objio-layout/server';\r\nimport * as MYSQL from 'objio-mysql-database/server';\r\nimport * as SQLITE3 from 'objio-sqlite-table/server';\r\n\r\nexport function registerObjects(fact: OBJIOFactory) {\r\n  [\r\n    ...Layout.getClasses(),\r\n    ...Objects.getClasses(),\r\n    ...SQLITE3.getClasses(),\r\n    ...MYSQL.getClasses()\r\n  ].forEach(classObj => {\r\n    fact.registerItem(classObj);\r\n  });\r\n\r\n  fact.registerItem(DocHolder);\r\n  fact.registerItem(DocRoot);\r\n}\r\n","import { createFactory, OBJIOFactory } from 'objio';\r\nimport { createOBJIOServer } from 'objio/server';\r\nimport { registerObjects } from '../model/server/register-objects';\r\nimport * as Bluebird from 'bluebird';\r\nimport * as process from 'process';\r\n\r\nBluebird.config({ cancellation: true });\r\nglobal.Promise = Bluebird;\r\n\r\nasync function runDocServer() {\r\n  const factory: OBJIOFactory = await createFactory();\r\n  registerObjects(factory);\r\n\r\n  createOBJIOServer({\r\n    factory,\r\n    rootDir: 'data'\r\n  });\r\n}\r\n\r\nconsole.log(process.env['FFMPEG']);\r\nrunDocServer();\r\n","module.exports = require(\"bluebird\");","module.exports = require(\"objio\");","module.exports = require(\"objio-mysql-database/server\");","module.exports = require(\"objio-object/base/file-object\");","module.exports = require(\"objio-object/base/object-base\");","module.exports = require(\"objio-object/server\");","module.exports = require(\"objio-sqlite-table/server\");","module.exports = require(\"objio/server\");","module.exports = require(\"process\");"],"sourceRoot":""}